# 🎬 Лабораторная работа №3: Обработка форм на PHP + сохранение данных

## 👨‍💻 Автор
**ФИО:** Константинов Владислав Алексеевич  
**Группа:** 3МО-3 🎓

## 🎯 Цель работы
- Научиться обрабатывать данные формы на стороне сервера с помощью PHP
- Сохранять данные формы в сессии и файлах
- Реализовать валидацию данных на сервере
- Выводить сохраненные данные на отдельных страницах

## 🚀 Запуск проекта

\\\ash
# Перейти в папку lab3
cd lab3

# Запустить контейнеры
docker-compose up -d
\\\

## 🌐 Доступные страницы

- **Главная:** http://localhost:8082/index.php
- **Форма заказа:** http://localhost:8082/form.html
- **Все заказы:** http://localhost:8082/view.php
- **PHP Info:** http://localhost:8082/phpinfo.php

## 📁 Структура проекта

\\\
lab3/
├── docker-compose.yml          # Конфигурация Docker
├── nginx-config/
│   └── default.conf           # Конфигурация Nginx
├── www/
│   ├── index.php              # Главная страница с выводом данных из сессии
│   ├── form.html              # Форма покупки билетов (PHP обработка)
│   ├── process.php            # Обработчик формы (сессии + файл)
│   ├── view.php               # Просмотр всех заказов из файла
│   ├── phpinfo.php            # PHP информация
│   └── data.txt               # Файл с сохраненными заказами (создается автоматически)
└── README.md                  # Документация
\\\

## 🔧 Функциональность

### ✅ Обработка формы на PHP
- Данные отправляются на сервер методом POST
- Валидация на стороне сервера
- Защита от XSS (htmlspecialchars)

### ✅ Сохранение в сессии
- Последний заказ сохраняется в сессии
- Вывод данных на главной странице
- Обработка ошибок валидации

### ✅ Сохранение в файл
- Все заказы сохраняются в data.txt
- Структура: время;имя;билеты;фильм;дата;место;допы;комментарий
- Просмотр всех заказов на отдельной странице

### ✅ Валидация данных
- Проверка обязательных полей
- Проверка диапазона количества билетов (1-10)
- Вывод ошибок пользователю

## 🎬 Форма покупки билетов

Форма включает те же поля что и в lab2, но с PHP обработкой:
- 👤 Имя пользователя (text)
- 🎟️ Количество билетов (number) 
- 🎬 Выбор фильма (select)
- 📅 Дата сеанса (date)
- 💺 Тип места (radio buttons)
- 🕶️ 3D очки (checkbox)
- 📝 Комментарий (textarea)

## 🔧 Технологии

- 🐳 Docker & Docker Compose
- 🌐 Nginx
- 🐘 PHP 8.2 FPM + Сессии
- 📄 HTML5 + CSS3
- 🟨 JavaScript (только alert)

## ✅ Результат

Реализована полноценная система обработки заказов билетов с:
- Серверной обработкой данных
- Сохранением в сессии и файле
- Валидацией данных
- Просмотром истории заказов

[🔙 Назад к списку лабораторных работ](../)
